<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add PhyloPics to a base R plot — add_phylopic_base • rphylopic</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add PhyloPics to a base R plot — add_phylopic_base"><meta name="description" content="Specify existing images, taxonomic names, or PhyloPic uuids to add PhyloPic
silhouettes on top of an existing base R plot (like points())."><meta property="og:description" content="Specify existing images, taxonomic names, or PhyloPic uuids to add PhyloPic
silhouettes on top of an existing base R plot (like points())."><meta property="og:image" content="https://rphylopic.palaeoverse.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rphylopic</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a-getting-started.html">Getting started with rphylopic</a></li>
    <li><a class="dropdown-item" href="../articles/b-advanced-ggplot.html">Advanced examples in ggplot</a></li>
    <li><a class="dropdown-item" href="../articles/c-advanced-base.html">Advanced examples in base R</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/palaeoverse/rphylopic/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add PhyloPics to a base R plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/palaeoverse/rphylopic/blob/main/R/add_phylopic_base.r" class="external-link"><code>R/add_phylopic_base.r</code></a></small>
      <div class="d-none name"><code>add_phylopic_base.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Specify existing images, taxonomic names, or PhyloPic uuids to add PhyloPic
silhouettes on top of an existing base R plot (like <code><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points()</a></code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_phylopic_base</span><span class="op">(</span></span>
<span>  img <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  uuid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ysize <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  width <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  color <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  fill <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  horizontal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  vertical <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  hjust <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  vjust <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  remove_background <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-img">img<a class="anchor" aria-label="anchor" href="#arg-img"></a></dt>
<dd><p>A <a href="https://rdrr.io/pkg/grImport2/man/Picture-class.html" class="external-link">Picture</a> or png array object, e.g.,
from using <code><a href="get_phylopic.html">get_phylopic()</a></code>.</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p><code>character</code>. A taxonomic name to be passed to <code><a href="get_uuid.html">get_uuid()</a></code>.</p></dd>


<dt id="arg-uuid">uuid<a class="anchor" aria-label="anchor" href="#arg-uuid"></a></dt>
<dd><p><code>character</code>. A valid uuid for a PhyloPic silhouette (such as
that returned by <code><a href="get_uuid.html">get_uuid()</a></code> or <code><a href="pick_phylopic.html">pick_phylopic()</a></code>).</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p><code>character</code>. Filter by usage license if <code>name</code> is defined.
Use "by" to limit results to images which do not require attribution, "nc"
for images which allows commercial usage, and "sa" for images without a
ShareAlike clause. The user can also combine these filters as a vector.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>numeric</code>. x value of the silhouette center. If "NULL", the
default, the mean value of the x-axis is used.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p><code>numeric</code>. y value of the silhouette center. If "NULL", the
default, the mean value of the y-axis is used.</p></dd>


<dt id="arg-ysize">ysize<a class="anchor" aria-label="anchor" href="#arg-ysize"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> use the <code>height</code> or <code>width</code>
argument instead.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p><code>numeric</code>. Height of the silhouette in coordinate space.
If "NULL", the default, and <code>width</code> is also "NULL", the silhouette will be
as large as fits in the plot area. If "NULL" and <code>width</code> is specified, the
height is determined by the aspect ratio of the original image. One or both
of <code>height</code> and <code>width</code> must be "NULL".</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p><code>numeric</code>. Width of the silhouette in coordinate space. If
"NULL", the default, and <code>height</code> is also "NULL", the silhouette will be as
large as fits in the plot area. If "NULL" and <code>height</code> is specified, the
width is determined by the aspect ratio of the original image. One or both
of <code>height</code> and <code>width</code> must be "NULL".</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p><code>numeric</code>. A value between 0 and 1, specifying the opacity
of the silhouette (0 is fully transparent, 1 is fully opaque).</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p><code>character</code>. Color of silhouette outline. If "original" or
NA is specified, the original color of the silhouette outline will be used
(usually the same as "transparent"). To remove the outline, you can set
this to "transparent".</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p><code>character</code>. Color of silhouette. If "original" is
specified, the original color of the silhouette will be used (usually the
same as "black"). If <code>color</code> is specified and <code>fill</code> is NA, <code>color</code> will be
used as the fill color (for backwards compatibility). To remove the fill,
you can set this to "transparent".</p></dd>


<dt id="arg-horizontal">horizontal<a class="anchor" aria-label="anchor" href="#arg-horizontal"></a></dt>
<dd><p><code>logical</code>. Should the silhouette be flipped
horizontally?</p></dd>


<dt id="arg-vertical">vertical<a class="anchor" aria-label="anchor" href="#arg-vertical"></a></dt>
<dd><p><code>logical</code>. Should the silhouette be flipped vertically?</p></dd>


<dt id="arg-angle">angle<a class="anchor" aria-label="anchor" href="#arg-angle"></a></dt>
<dd><p><code>numeric</code>. The number of degrees to rotate the silhouette
clockwise. The default is no rotation.</p></dd>


<dt id="arg-hjust">hjust<a class="anchor" aria-label="anchor" href="#arg-hjust"></a></dt>
<dd><p><code>numeric</code>. A numeric vector between 0 and 1 specifying
horizontal justification (left = 0, center = 0.5, right = 1).</p></dd>


<dt id="arg-vjust">vjust<a class="anchor" aria-label="anchor" href="#arg-vjust"></a></dt>
<dd><p><code>numeric</code>. A numeric vector between 0 and 1 specifying
vertical justification (top = 1, middle = 0.5, bottom = 0).</p></dd>


<dt id="arg-remove-background">remove_background<a class="anchor" aria-label="anchor" href="#arg-remove-background"></a></dt>
<dd><p><code>logical</code>. Should any white background be
removed from the silhouette(s)? See <code><a href="recolor_phylopic.html">recolor_phylopic()</a></code> for details.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code>. Should the attribution information for the
used silhouette(s) be printed to the console (see <code><a href="get_attribution.html">get_attribution()</a></code>)?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>One (and only one) of <code>img</code>, <code>name</code>, or <code>uuid</code> must be specified.
Use parameters <code>x</code>, <code>y</code>, <code>hjust</code>, and <code>vjust</code> to place the silhouette at a
specified position on the plot. If <code>height</code> and <code>width</code> are both
unspecified, then the silhouette will be plotted to the full height and/or
width of the plot. The aspect ratio of <code>Picture</code> objects will always be
maintained (even when a plot is resized). However, if the plot is resized
after plotting a silhouette, the absolute size and/or position of the
silhouette may change.</p>
<p>Any argument (except for <code>remove_background</code>) may be a vector of values if
multiple silhouettes should be plotted. In this case, all other arguments
may also be vectors of values, which will be recycled as necessary to the
length of the longest vector argument.</p>
<p>When specifying a horizontal and/or vertical flip <strong>and</strong> a rotation, the
flip(s) will always occur first. If you would like to customize this
behavior, you can flip and/or rotate the image within your own workflow
using <code><a href="flip_phylopic.html">flip_phylopic()</a></code> and <code><a href="rotate_phylopic.html">rotate_phylopic()</a></code>.</p>
<p>Note that png array objects can only be rotated by multiples of 90 degrees.
Also, outline colors do not currently work for png array objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># single image</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"n"</span>, main <span class="op">=</span> <span class="st">"A cat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">add_phylopic_base</span><span class="op">(</span>uuid <span class="op">=</span> <span class="st">"23cd6aa4-9587-4a2e-8e26-de42885004c9"</span>,</span></span>
<span class="r-in"><span>                  x <span class="op">=</span> <span class="fl">1</span>, y <span class="op">=</span> <span class="fl">1</span>, height <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># lots of images using a uuid</span></span></span>
<span class="r-in"><span><span class="va">posx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">posy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">angle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">360</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">10</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ver</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">10</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fills</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"darkorange"</span>, <span class="st">"grey42"</span>, <span class="st">"white"</span><span class="op">)</span>, <span class="fl">10</span>,</span></span>
<span class="r-in"><span>               replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">posx</span>, <span class="va">posy</span>, type <span class="op">=</span> <span class="st">"n"</span>, main <span class="op">=</span> <span class="st">"A cat herd"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">add_phylopic_base</span><span class="op">(</span>uuid <span class="op">=</span> <span class="st">"23cd6aa4-9587-4a2e-8e26-de42885004c9"</span>,</span></span>
<span class="r-in"><span>                  x <span class="op">=</span> <span class="va">posx</span>, y <span class="op">=</span> <span class="va">posy</span>, height <span class="op">=</span> <span class="va">size</span>,</span></span>
<span class="r-in"><span>                  fill <span class="op">=</span> <span class="va">fills</span>, angle <span class="op">=</span> <span class="va">angle</span>,</span></span>
<span class="r-in"><span>                  horizontal <span class="op">=</span> <span class="va">hor</span>, vertical <span class="op">=</span> <span class="va">ver</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example using a cat background</span></span></span>
<span class="r-in"><span><span class="va">cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_phylopic.html">get_phylopic</a></span><span class="op">(</span><span class="st">"23cd6aa4-9587-4a2e-8e26-de42885004c9"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># setup plot area</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">posx</span>, <span class="va">posy</span>, type <span class="op">=</span> <span class="st">"n"</span>, main <span class="op">=</span> <span class="st">"A cat herd, on top of a cat"</span>,</span></span>
<span class="r-in"><span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># plot background cat</span></span></span>
<span class="r-in"><span><span class="fu">add_phylopic_base</span><span class="op">(</span>img <span class="op">=</span> <span class="va">cat</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># overlay smaller cats</span></span></span>
<span class="r-in"><span><span class="fu">add_phylopic_base</span><span class="op">(</span>img <span class="op">=</span> <span class="va">cat</span>, x <span class="op">=</span> <span class="va">posx</span>, y <span class="op">=</span> <span class="va">posy</span>, height <span class="op">=</span> <span class="va">size</span>, alpha <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://williamgearty.com" class="external-link">William Gearty</a>, <a href="https://www.lewisajones.com" class="external-link">Lewis A. Jones</a>, Scott Chamberlain.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

